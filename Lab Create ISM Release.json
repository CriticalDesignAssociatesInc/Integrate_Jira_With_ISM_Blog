{"rules":[{"id":1470233,"clientKey":"a5b0c42b-a2ed-31be-9d92-1a63a44d36d9","name":"Lab Create ISM Release","state":"DISABLED","description":"When a Bug,  or Enhancement is created in Jira, create a JIRA Bug, or JIRA Enhancement release in ISM.","authorAccountId":"5f7f2ab8a2909600754ff716","actor":{"type":"ACCOUNT_ID","value":"557058:f58131cb-b67d-43c7-b30d-6b58d40bd077"},"created":1608170689290,"updated":1609787012877,"trigger":{"id":"30414762","component":"TRIGGER","parentId":null,"conditionParentId":null,"schemaVersion":1,"type":"jira.issue.event.trigger:created","value":{"eventKey":"jira:issue_created","issueEvent":"issue_created"},"children":[],"conditions":[]},"components":[{"id":"30414763","component":"CONDITION","parentId":null,"conditionParentId":null,"schemaVersion":3,"type":"jira.issue.condition","value":{"selectedField":{"type":"NAME","value":"ISM RecID"},"selectedFieldType":"com.atlassian.jira.plugin.system.customfieldtypes:textfield","comparison":"EMPTY","compareValue":null},"children":[],"conditions":[]},{"id":"30414764","component":"CONDITION","parentId":null,"conditionParentId":null,"schemaVersion":1,"type":"jira.condition.container.block","value":null,"children":[{"id":"30414765","component":"CONDITION_BLOCK","parentId":null,"conditionParentId":null,"schemaVersion":1,"type":"jira.condition.if.block","value":{"conditionMatchType":"ALL"},"children":[{"id":"30414767","component":"ACTION","parentId":null,"conditionParentId":null,"schemaVersion":1,"type":"jira.issue.outgoing.webhook","value":{"url":"https://YOUR_ISM_TENANT_URL/api/odata/businessobject/releaseprojects","headers":[{"id":"_header_1602604129680","name":"Authorization","value":"rest_api_key=YOUR_ISM_API_KEY"},{"id":"_header_1602604179039","name":"Content-Type","value":"application/json"}],"sendIssue":false,"contentType":"custom","customBody":"{\n    \"TypeOfRelease\": \"JIRA Bug\",\n    \"Subject\": \"Jira Bug {{issue.key}}\",\n    \"Scope\": \"{{issue.key}}, {{issue.status}}, {{issue.status.name}}\",\n    \"Status\": \"Active\",\n    \"LAB_JIRAIssueNumber\": \"{{issue.key}}\",\n    \"LAB_JIRAIssueType\": \"{{issue.issuetype.name}}\",\n    \"LAB_JIRAPriority\": \"{{issue.priority.name}}\",\n    \"LAB_JIRAProjectName\": \"{{project.key}}\",\n    \"LAB_JIRAStatus\": \"To Do\",\n    \"LAB_JIRASprintName\": \"{{sprint.name}}\"\n}","method":"POST","responseEnabled":true},"children":[],"conditions":[]},{"id":"30414768","component":"ACTION","parentId":null,"conditionParentId":null,"schemaVersion":10,"type":"jira.issue.edit","value":{"operations":[{"field":{"type":"NAME","value":"ISM RecID"},"fieldType":"com.atlassian.jira.plugin.system.customfieldtypes:textfield","type":"SET","value":"{{webhookResponse.body.RecId}}"}],"advancedFields":null,"sendNotifications":true},"children":[],"conditions":[]}],"conditions":[{"id":"30414766","component":"CONDITION","parentId":null,"conditionParentId":null,"schemaVersion":3,"type":"jira.issue.condition","value":{"selectedField":{"type":"ID","value":"issuetype"},"selectedFieldType":"issuetype","comparison":"EQUALS","compareValue":{"type":"ID","modifier":null,"value":"10009","multiValue":false,"source":null}},"children":[],"conditions":[]}]},{"id":"30414769","component":"CONDITION_BLOCK","parentId":null,"conditionParentId":null,"schemaVersion":1,"type":"jira.condition.if.block","value":{"conditionMatchType":"ALL"},"children":[{"id":"30414771","component":"ACTION","parentId":null,"conditionParentId":null,"schemaVersion":1,"type":"jira.issue.outgoing.webhook","value":{"url":"https://YOUR_ISM_TENANT_URL/api/odata/businessobject/releaseprojects","headers":[{"id":"_header_1602604286737","name":"Authorization","value":"rest_api_key=YOUR_ISM_API_KEY"},{"id":"_header_1602606035961","name":"Content-Type","value":"application/json"}],"sendIssue":false,"contentType":"custom","customBody":"{\n    \"TypeOfRelease\": \"JIRA Enhancement\",\n    \"Subject\": \"Jira Enhancement {{issue.key}}\",\n    \"Scope\": \"{{issue.key}}, {{issue.status}},{{issue.status.name}}\",\n    \"Status\": \"Active\",\n    \"LAB_JIRAIssueNumber\": \"{{issue.key}}\",\n    \"LAB_JIRAIssueType\": \"{{issue.issuetype.name}}\",\n    \"LAB_JIRAPriority\": \"{{issue.priority.name}}\",\n    \"LAB_JIRAProjectName\": \"{{project.key}}\",\n    \"LAB_JIRAStatus\": \"BACKLOG\",\n    \"LAB_JIRASprintName\": \"{{sprint.name}}\"\n}","method":"POST","responseEnabled":false},"children":[],"conditions":[]},{"id":"30414772","component":"ACTION","parentId":null,"conditionParentId":null,"schemaVersion":10,"type":"jira.issue.edit","value":{"operations":[{"field":{"type":"NAME","value":"ISM RecID"},"fieldType":"com.atlassian.jira.plugin.system.customfieldtypes:textfield","type":"SET","value":"{{webhookResponse.body.RecId}}"}],"advancedFields":null,"sendNotifications":true},"children":[],"conditions":[]}],"conditions":[{"id":"30414770","component":"CONDITION","parentId":null,"conditionParentId":null,"schemaVersion":3,"type":"jira.issue.condition","value":{"selectedField":{"type":"ID","value":"issuetype"},"selectedFieldType":"issuetype","comparison":"EQUALS","compareValue":{"type":"ID","modifier":null,"value":"10016","multiValue":false,"source":null}},"children":[],"conditions":[]}]}],"conditions":[]}],"canOtherRuleTrigger":false,"notifyOnError":"FIRSTERROR","projects":[],"labels":[],"tags":[]}],"cloud":true}
